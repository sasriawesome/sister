{% extends 'admin/inspect.html' %}
{% load i18n static admin_urls admin_modify %}

{% block breadcrumbs %}
<div class="breadcrumbs">
  <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
  &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
  &rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
  &rsaquo; {{ instance|truncatewords:"18" }}
</div>
{% endblock %}

{% block coltype %}colMS{% endblock %}

{% block content %}

<div id="content-main">
  <h1>Kelas {{ instance }}</h2>
    <ul class="errorlist">
      {% if not instance.rentang_nilai.count %}
        <li>Kelas belum memiliki rentang nilai, buat rentang nila dari A s.d E.</li>
      {% endif %}
    </ul>

  <!-- Module Kelas untuk Wali Kelas -->
  <div class="module">
    <h2 class="subhead">Jadwal Pelajaran (Hari Ini)</h2>
    {% if instance.get_jadwal_pelajaran.count %}
    <table class="model">
      <thead>
      <tr>
        <th>Nama</th>
        <th width="120">Kode</th>
        <th>Guru</th>
        <th width="80">Mulai</th>
        <th width="80">Berakhir</th>
      </tr>
      </thead>
      <tbody>
        {% for item in instance.get_jadwal_pelajaran %}
        <tr>
            <td><a href="">
              <strong>{{ item.mata_pelajaran.mata_pelajaran.nama }}</strong>
            </a>
            </td>
            <td>{{ item.mata_pelajaran.mata_pelajaran.kode }}</td>
            <td>{{ item.mata_pelajaran.guru }}</td>
            <td>{{ item.jam_mulai }}</td>
            <td>{{ item.jam_berakhir }}</td>
        </tr>
        {% endfor %}
            </tbody>
        </table>
      {% else %}
      <table>
      <tr>
          <td colspan="5">Kelas {{ instance }} tidak ada jadwal pelajaran hari ini.</td>
      </tr>
      {% endif %}
    </table>
  </div>
  
  <!-- Module Kelas untuk Wali Kelas -->
  <div class="module">
    <h2 class="subhead">Jadwal Ekstra Kurikuler (Hari Ini)</h2>
    {% if instance.get_jadwal_ekskul.count %}
    <table class="model">
      <thead>
      <tr>
        <th>Nama</th>
        <th width="80">Mulai</th>
        <th width="80">Berakhir</th>
      </tr>
      </thead>
      <tbody>
        {% for item in instance.get_jadwal_ekskul %}
        <tr>
            <td><a href=""><strong>{{ item.ekstra_kurikuler }}</strong></a></td>
            <td>{{ item.jam_mulai }}</td>
            <td>{{ item.jam_berakhir }}</td>
        </tr>
        {% endfor %}
            </tbody>
        </table>
      {% else %}
      <table>
      <tr>
          <td colspan="5">Kelas {{ instance }} tidak ada jadwal ekstra kurikuler hari ini.</td>
      </tr>
      {% endif %}
    </table>
  </div>

  <p class="small">
    <a href="{% url opts|admin_urlname:'changelist' %}">&lsaquo; {% trans 'Back to' %} {{ opts.verbose_name_plural|capfirst }}</a>
  </p>

</div>
{% endblock %}

{% block sidebar %}
<div id="content-related" class="sidebar">
  <div class="module">
    <div class="module__widget">
      <a class="button" href="{% url 'admin:sister_pembelajaran_kelas_inspect' object_id=instance.id %}">Depan Kelas</a>
      <a class="button" href="{% url 'admin:sister_pembelajaran_kelas_siswakelas_view' object_id=instance.id %}">Siswa Kelas</a>
      <a class="button" href="{% url 'admin:sister_pembelajaran_kelas_presensi_view' object_id=instance.id %}">Presensi Siswa</a>
      <a class="button" href="{% url 'admin:sister_pembelajaran_kelas_mapel_view' object_id=instance.id %}">Mata Pelajaran</a>
      <a class="button" href="{% url 'admin:sister_pembelajaran_kelas_jadwal_view' object_id=instance.id %}">Jadwal Kelas</a>
      <a class="button" href="{% url 'admin:sister_pembelajaran_kelas_piket_view' object_id=instance.id %}">Piket Kelas</a>
      <a class="button" href="{% url 'admin:sister_pembelajaran_kelas_rentang_view' object_id=instance.id %}">Rentang Nilai</a>
    </div>
  </div>
  <div class="module">
    <div class="module__widget">
      <table>
        <tbody>
            <tr>
                <td><strong>Nama Kelas</strong></td>
                <td>{{ instance.nama_kelas }}</td>
            </tr>
            <tr>
                <td><strong>Guru Kelas</strong></td>
                <td>{{ instance.guru_kelas }}</td>
            </tr>
            <tr>
                <td><strong>Tahun Ajaran</strong></td>
                <td>{{ instance.tahun_ajaran }}</td>
            </tr>
            <tr>
                <td><strong>Kurikulum</strong></td>
                <td>{{ instance.kurikulum }}</td>
            </tr>
            <tr>
                <td><strong>Status</strong></td>
                <td>{{ instance.get_status_display }}</td>
            </tr>
            <tr>
              <td><strong>Ruang</strong></td>
              <td>{{ instance.ruang }}</td>
            </tr>
            <tr>
              <td><strong>Jumlah Siswa</strong></td>
              <td>{{ instance.siswa.count }}</td>
          </tr>
        </tbody>
    </table>
    </div>
  </div>
</div>
{% endblock %}
